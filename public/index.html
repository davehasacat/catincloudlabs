<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CatInCloud Labs - Cloud Engineering & Data Pipelines</title>

  <!-- SEO -->
  <meta name="description" content="CatInCloud Labs - Cloud engineering, data pipelines, and DevOps excellence." />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <link rel="canonical" href="https://catincloudlabs.com/" />

  <!-- Open Graph -->
  <meta property="og:title" content="CatInCloud Labs" />
  <meta property="og:description" content="Building enterprise-grade data and cloud systems with precision and security." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://catincloudlabs.com/" />
  <meta property="og:image" content="https://catincloudlabs.com/assets/brand/social-card.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:site_name" content="CatInCloud Labs" />
  <meta property="og:locale" content="en_US" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="CatInCloud Labs" />
  <meta name="twitter:description" content="Enterprise-grade data & cloud systems - MWAA • Snowflake • dbt Cloud" />
  <meta name="twitter:image" content="https://catincloudlabs.com/assets/brand/social-card.png" />

  <!-- Icons & theme -->
  <link rel="icon" href="/assets/favicons/favicon.ico" sizes="any" />
  <link rel="icon" type="image/svg+xml" href="/assets/favicons/safari-pinned-tab.svg" />
  <link rel="apple-touch-icon" href="/assets/favicons/apple-touch-icon.png" />
  <link rel="manifest" href="/assets/favicons/site.webmanifest" />
  <meta name="theme-color" content="#f3f4f6" />
  <meta name="color-scheme" content="light" />

  <!-- Preload hero video (match sources below) -->
  <link rel="preload" as="video" href="/assets/video/hero_m.webm" type="video/webm" media="(max-width: 768px) and (orientation: portrait)" />
  <link rel="preload" as="video" href="/assets/video/hero.webm" type="video/webm" media="(min-width: 769px), (orientation: landscape)" />

  <!-- Styles -->
  <link rel="stylesheet" href="/assets/css/styles.css" />

  <!-- JSON-LD: Organization + WebSite -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"CatInCloud Labs",
    "url":"https://catincloudlabs.com/",
    "logo":"https://catincloudlabs.com/assets/brand/logo-wordmark-light.svg",
    "email":"dave@catincloudlabs.com",
    "address":{
      "@type":"PostalAddress",
      "addressLocality":"Minneapolis",
      "addressRegion":"MN",
      "addressCountry":"US"
    }
  }
  </script>
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"CatInCloud Labs",
    "url":"https://catincloudlabs.com/",
    "potentialAction":{
      "@type":"ContactAction",
      "target":"mailto:dave@catincloudlabs.com"
    }
  }
  </script>
</head>

<body class="home">
  <!-- Accessibility: skip link -->
  <a href="#main" class="skip-link">Skip to content</a>

  <!-- Header -->
  <header class="header">
    <div class="container nav">
      <a class="brand" href="/" aria-label="CatInCloud Labs">
        <img src="/assets/brand/logo-wordmark-light.svg" alt="CatInCloud Labs" height="32" />
      </a>
      <nav class="menu" aria-label="Primary">
        <a href="/" class="active" aria-current="page">Home</a>
        <a href="/about">About</a>
        <a href="/projects">Projects</a>
        <a href="/contact" class="button ghost">Contact</a>
      </nav>
    </div>
  </header>

  <main id="main">
    <!-- Hero (video) -->
    <section class="hero" aria-label="CatInCloud Labs - Hero">
      <div class="hero__media" aria-hidden="true">
        <video class="hero__video" autoplay muted loop playsinline preload="metadata" poster="/assets/video/hero-fallback.jpg">
          <!-- Mobile/tall cut -->
          <source src="/assets/video/hero_m.webm" type="video/webm" media="(max-width: 768px) and (orientation: portrait)" />
          <source src="/assets/video/hero_m.mp4"  type="video/mp4"  media="(max-width: 768px) and (orientation: portrait)" />
          <!-- Desktop/wide cut (default) -->
          <source src="/assets/video/hero.webm" type="video/webm" />
          <source src="/assets/video/hero.mp4"  type="video/mp4" />
        </video>
        <noscript>
          <img src="/assets/video/hero-fallback.jpg" alt="MWAA/dbt/Snowflake pipeline running successfully" />
        </noscript>
      </div>

      <div class="hero__content">
        <h1>CatInCloud Labs</h1>
        <p>Cloud Architecture Solutions</p>
        <div class="hero__cta">
          <a class="ci-btn ci-btn--primary" href="#proof">See the Proof</a>
          <a class="ci-btn ci-btn--ghost" href="/contact">Work with Us</a>
        </div>
      </div>
    </section>

    <!-- Content -->
    <section class="section">
      <div class="container">
        <div class="stack" style="--stack-gap:1.25rem">
          <article class="card reveal" style="max-width: var(--maxw-readable); margin-inline:auto;">
            <div class="eyebrow">Flagship</div>
            <h2>Enterprise Stock Market ELT</h2>
            <p>
              A production-grade data pipeline built on AWS, MWAA, Snowflake, and dbt Cloud,
              designed to securely ingest, transform, and deliver market data at scale using
              KMS encryption and enterprise best practices. The cloud-native architecture
              supports both stocks and options data and employs dbt's incremental loading
              strategy for efficient, maintainable transformations.
            </p>
          </article>

          <!-- Architecture diagram -->
          <article id="architecture" class="card reveal proof-diagram" style="max-width: var(--maxw-readable); margin-inline:auto;">
            <figure class="diagram-figure" style="margin:0;">
              <img
                src="/assets/diagrams/architecture-flow.v3.svg"
                alt="Architecture flow diagram showing MWAA orchestrating S3 to Snowflake via COPY, with dbt building marts"
                class="diagram"
                width="1160" height="300"
                loading="lazy" decoding="async"
                sizes="(max-width: 700px) 100vw, 1160px" />
              <figcaption class="diagram-caption">Architecture Flow</figcaption>
            </figure>
          </article>

          <!-- Security/observability diagram -->
          <article id="orchestration" class="card reveal proof-diagram" style="max-width: var(--maxw-readable); margin-inline:auto;">
            <figure class="diagram-figure" style="margin:0;">
              <img
                src="/assets/diagrams/security-observability.v3.svg"
                alt="Private VPC with S3 Gateway Endpoint; MWAA orchestrates Snowflake load; outbound-only egress"
                class="diagram"
                width="1160" height="300"
                loading="lazy" decoding="async"
                sizes="(max-width: 700px) 100vw, 1160px" />
              <figcaption class="diagram-caption">Security &amp; Observability Highlights - dotted arrows = private/controlled network paths</figcaption>
            </figure>
          </article>

          <!-- Proof of Success: single-card carousel + click-to-zoom -->
          <article id="proof" class="card reveal" style="max-width: var(--maxw-readable); margin-inline:auto;">
            <div class="eyebrow">Proof of Success</div>
            <h2>End-to-End in Action</h2>

            <div
              class="proof-shell"
              style="position:relative;max-width:720px;margin-inline:auto;margin-top:0.75rem;"
            >
              <!-- Card arrows: show previous/next screenshot -->
              <button
                type="button"
                aria-label="Previous screenshot"
                data-proof-prev
                style="
                  position:absolute;
                  left:0.4rem;
                  top:50%;
                  transform:translateY(-50%);
                  z-index:2;
                  width:2.5rem;
                  height:2.5rem;
                  border-radius:999px;
                  border:none;
                  display:flex;
                  align-items:center;
                  justify-content:center;
                  font-size:1.4rem;
                  background:rgba(15,23,42,0.9);
                  color:#f9fafb;
                  cursor:pointer;
                "
              >
                ‹
              </button>

              <button
                type="button"
                aria-label="Next screenshot"
                data-proof-next
                style="
                  position:absolute;
                  right:0.4rem;
                  top:50%;
                  transform:translateY(-50%);
                  z-index:2;
                  width:2.5rem;
                  height:2.5rem;
                  border-radius:999px;
                  border:none;
                  display:flex;
                  align-items:center;
                  justify-content:center;
                  font-size:1.4rem;
                  background:rgba(15,23,42,0.9);
                  color:#f9fafb;
                  cursor:pointer;
                "
              >
                ›
              </button>

              <!-- Thumbnail: click to open zoom modal -->
              <button
                type="button"
                class="proof-thumb"
                data-proof-open
                aria-label="Click to zoom end-to-end pipeline screenshot"
                style="border:0;padding:0;background:none;cursor:pointer;display:block;position:relative;"
              >
                <img
                  data-proof-img
                  src="/assets/proof/proof-success-ingest.v1.1920w.webp"
                  alt="Ingest: Airflow DAG writing gzipped ticker JSON files to the S3 RAW bucket."
                  style="
                    display:block;
                    width:100%;
                    max-width:100%;
                    height:auto;
                    border-radius:1.5rem;
                    box-shadow:0 18px 40px rgba(15,23,42,0.26);
                  "
                  loading="lazy"
                  decoding="async"
                />
                <span
                  class="proof-zoom-pill"
                  style="
                    position:absolute;
                    right:1rem;
                    bottom:1rem;
                    padding:0.45rem 0.9rem;
                    border-radius:999px;
                    font-size:0.8rem;
                    background:rgba(15,23,42,0.9);
                    color:#f9fafb;
                  "
                >
                  Click to zoom
                </span>
              </button>
            </div>

            <p
              class="proof-caption"
              data-proof-caption
              style="margin-top:0.9rem;font-size:0.95rem;color:#334155;"
            >
              Ingest — API → S3 (RAW)
            </p>
          </article>
        </div>
      </div>
    </section>
  </main>

  <!-- Lightbox root (one per page) -->
  <div id="lightbox" class="lb" hidden aria-hidden="true" role="dialog" aria-modal="true" aria-label="Image viewer">
    <div class="lb__backdrop" data-close></div>
    <div class="lb__stage" role="document">
      <button class="lb__close" type="button" title="Close (Esc)" aria-label="Close" data-close>&times;</button>
      <img class="lb__img" alt="" />
      <p class="lb__caption" id="lb-caption"></p>
      <div class="lb__nav" aria-hidden="true">
        <button class="lb__prev" type="button" title="Previous (←)" aria-label="Previous image">&#10094;</button>
        <button class="lb__next" type="button" title="Next (→)" aria-label="Next image">&#10095;</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container inner center">
      <small>© <span id="y"></span> CatInCloud Labs - DaveHasACat LLC</small>
      <p><em>Cats who cloud. Humans that stay grounded.</em></p>
      <div class="stack" style="--stack-gap:.25rem; justify-content:center; margin-top:0.5rem;">
        <a href="/about">About</a> ·
        <a href="/security">Security</a> ·
        <a href="/privacy">Privacy</a> ·
        <a href="/terms">Terms</a> ·
        <a href="mailto:dave@catincloudlabs.com" aria-label="Email CatInCloud Labs">Contact</a>
      </div>
    </div>

    <!-- Set footer year + theme-color -->
    <script>
      document.getElementById('y').textContent = new Date().getFullYear();
      const metaTheme = document.querySelector('meta[name="theme-color"]');
      const bg = getComputedStyle(document.documentElement).getPropertyValue('--bg-page').trim();
      if (metaTheme && bg) metaTheme.setAttribute('content', bg);
    </script>
    <script src="/assets/js/hero-auto-pause.js" defer></script>
  </footer>

  <!-- Proof-of-Success carousel + lightbox JS -->
  <script>
  (() => {
    // Slides: card + modal share the same list
    const slides = [
      {
        webp: "/assets/proof/proof-success-ingest.v1.1920w.webp",
        jpg:  "/assets/proof/proof-success-ingest.v1.1920w.jpg",
        caption: "Ingest — API → S3 (RAW)",
        alt: "Ingest: Airflow DAG writing gzipped ticker JSON files to the S3 RAW bucket."
      },
      {
        webp: "/assets/proof/proof-success-load.v1.1920w.webp",
        jpg:  "/assets/proof/proof-success-load.v1.1920w.jpg",
        caption: "Load — Snowflake COPY from S3",
        alt: "Load: Airflow load DAG running Snowflake COPY INTO from the S3 stage into RAW tables."
      },
      {
        webp: "/assets/proof/proof-success-transform.v1.1920w.webp",
        jpg:  "/assets/proof/proof-success-transform.v1.1920w.jpg",
        caption: "Transform — dbt models in Snowflake",
        alt: "Transform: dbt builds typed staging and mart models in Snowflake with precise decimals."
      }
    ];

    const thumbImg = document.querySelector("[data-proof-img]");
    const captionEl = document.querySelector("[data-proof-caption]");
    const prevBtn = document.querySelector("[data-proof-prev]");
    const nextBtn = document.querySelector("[data-proof-next]");
    const openBtn = document.querySelector("[data-proof-open]");
    const lb = document.getElementById("lightbox");

    if (!thumbImg || !captionEl || !prevBtn || !nextBtn || !openBtn || !lb) return;

    const lbImg = lb.querySelector(".lb__img");
    const lbCaption = lb.querySelector(".lb__caption");
    const lbPrev = lb.querySelector(".lb__prev");
    const lbNext = lb.querySelector(".lb__next");
    const lbCloseEls = lb.querySelectorAll("[data-close]");

    let index = 0;
    let lastFocus = null;

    function srcFor(slide) {
      return slide.webp || slide.jpg;
    }

    function applyFallback(imgEl, slide) {
      imgEl.onerror = null; // prevent loops
      if (slide.jpg && imgEl.src.endsWith(".webp")) {
        imgEl.src = slide.jpg;
      }
    }

    function renderCard() {
      const slide = slides[index];
      thumbImg.src = srcFor(slide);
      thumbImg.alt = slide.alt;
      thumbImg.onerror = () => applyFallback(thumbImg, slide);
      captionEl.textContent = slide.caption;
    }

    function renderModal() {
      const slide = slides[index];
      lbImg.src = srcFor(slide);
      lbImg.alt = slide.alt;
      lbImg.onerror = () => applyFallback(lbImg, slide);
      lbCaption.textContent = slide.caption;

      // Preload neighbors for smoother nav
      const prevSlide = slides[(index - 1 + slides.length) % slides.length];
      const nextSlide = slides[(index + 1) % slides.length];
      [prevSlide, nextSlide].forEach(s => {
        const img = new Image();
        img.src = srcFor(s);
      });
    }

    function openLightbox() {
      renderModal();
      lb.hidden = false;
      lb.setAttribute("aria-hidden", "false");
      lastFocus = document.activeElement;
      document.body.style.overflow = "hidden";
      const closeBtn = lb.querySelector(".lb__close");
      if (closeBtn) closeBtn.focus();
    }

    function closeLightbox() {
      lb.setAttribute("aria-hidden", "true");
      lb.hidden = true;
      document.body.style.overflow = "";
      lbImg.removeAttribute("src");
      if (lastFocus && document.contains(lastFocus)) {
        lastFocus.focus();
      }
    }

    function changeSlide(delta) {
      index = (index + delta + slides.length) % slides.length;
      renderCard();
      if (!lb.hidden) renderModal();
    }

    // Initial render
    renderCard();

    // Card controls
    prevBtn.addEventListener("click", () => changeSlide(-1));
    nextBtn.addEventListener("click", () => changeSlide(1));
    openBtn.addEventListener("click", openLightbox);

    // Modal controls
    lbPrev.addEventListener("click", () => changeSlide(-1));
    lbNext.addEventListener("click", () => changeSlide(1));
    lb.addEventListener("click", (e) => {
      if (e.target === lb || e.target.classList.contains("lb__backdrop")) {
        closeLightbox();
      }
    });
    lbCloseEls.forEach(el => el.addEventListener("click", closeLightbox));

    // Keyboard controls
    document.addEventListener("keydown", (e) => {
      if (lb.hidden) return;
      if (e.key === "Escape") {
        e.preventDefault();
        closeLightbox();
      } else if (e.key === "ArrowLeft") {
        e.preventDefault();
        changeSlide(-1);
      } else if (e.key === "ArrowRight") {
        e.preventDefault();
        changeSlide(1);
      }
    });
  })();
  </script>
</body>
</html>
