<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CatInCloud Labs - Cloud Engineering & Data Pipelines</title>

  <!-- SEO -->
  <meta name="description" content="CatInCloud Labs - Cloud engineering, data pipelines, and DevOps excellence." />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <link rel="canonical" href="https://catincloudlabs.com/" />

  <!-- Open Graph -->
  <meta property="og:title" content="CatInCloud Labs" />
  <meta property="og:description" content="Building enterprise-grade data and cloud systems with precision and security." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://catincloudlabs.com/" />
  <meta property="og:image" content="https://catincloudlabs.com/assets/brand/social-card.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:site_name" content="CatInCloud Labs" />
  <meta property="og:locale" content="en_US" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="CatInCloud Labs" />
  <meta name="twitter:description" content="Enterprise-grade data & cloud systems - MWAA • Snowflake • dbt Cloud" />
  <meta name="twitter:image" content="https://catincloudlabs.com/assets/brand/social-card.png" />

  <!-- Icons & theme -->
  <link rel="icon" href="/assets/favicons/favicon.ico" sizes="any" />
  <link rel="icon" type="image/svg+xml" href="/assets/favicons/safari-pinned-tab.svg" />
  <link rel="apple-touch-icon" href="/assets/favicons/apple-touch-icon.png" />
  <link rel="manifest" href="/assets/favicons/site.webmanifest" />
  <meta name="theme-color" content="#f3f4f6" />
  <meta name="color-scheme" content="light" />

  <!-- Preload hero video (match sources below) -->
  <link rel="preload" as="video" href="/assets/video/hero_m.webm" type="video/webm" media="(max-width: 768px) and (orientation: portrait)" />
  <link rel="preload" as="video" href="/assets/video/hero.webm" type="video/webm" media="(min-width: 769px), (orientation: landscape)" />

  <!-- Styles -->
  <link rel="stylesheet" href="/assets/css/styles.css" />

  <!-- JSON-LD: Organization + WebSite -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"CatInCloud Labs",
    "url":"https://catincloudlabs.com/",
    "logo":"https://catincloudlabs.com/assets/brand/logo-wordmark-light.svg",
    "email":"dave@catincloudlabs.com",
    "address":{
      "@type":"PostalAddress",
      "addressLocality":"Minneapolis",
      "addressRegion":"MN",
      "addressCountry":"US"
    }
  }
  </script>
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"CatInCloud Labs",
    "url":"https://catincloudlabs.com/",
    "potentialAction":{
      "@type":"ContactAction",
      "target":"mailto:dave@catincloudlabs.com"
    }
  }
  </script>
</head>

<body class="home">
  <!-- Accessibility: skip link -->
  <a href="#main" class="skip-link">Skip to content</a>

  <!-- Header -->
  <header class="header">
    <div class="container nav">
      <a class="brand" href="/" aria-label="CatInCloud Labs">
        <img src="/assets/brand/logo-wordmark-light.svg" alt="CatInCloud Labs" height="32" />
      </a>
      <nav class="menu" aria-label="Primary">
        <a href="/" class="active" aria-current="page">Home</a>
        <a href="/about">About</a>
        <a href="/projects">Projects</a>
        <a href="/contact" class="button ghost">Contact</a>
      </nav>
    </div>
  </header>

  <main id="main">
    <!-- Hero (video) -->
    <section class="hero" aria-label="CatInCloud Labs - Hero">
      <div class="hero__media" aria-hidden="true">
        <video class="hero__video" autoplay muted loop playsinline preload="metadata" poster="/assets/video/hero-fallback.jpg">
          <!-- Mobile/tall cut -->
          <source src="/assets/video/hero_m.webm" type="video/webm" media="(max-width: 768px) and (orientation: portrait)" />
          <source src="/assets/video/hero_m.mp4"  type="video/mp4"  media="(max-width: 768px) and (orientation: portrait)" />
          <!-- Desktop/wide cut (default) -->
          <source src="/assets/video/hero.webm" type="video/webm" />
          <source src="/assets/video/hero.mp4"  type="video/mp4" />
        </video>
        <noscript>
          <img src="/assets/video/hero-fallback.jpg" alt="MWAA/dbt/Snowflake pipeline running successfully" />
        </noscript>
      </div>

      <div class="hero__content">
        <h1>CatInCloud Labs</h1>
        <p>Cloud Architecture Solutions</p>
        <div class="hero__cta">
          <a class="ci-btn ci-btn--primary" href="#proof">See the Proof</a>
          <a class="ci-btn ci-btn--ghost" href="/contact">Work with Us</a>
        </div>
      </div>
    </section>

    <!-- Content -->
    <section class="section">
      <div class="container">
        <div class="stack" style="--stack-gap:1.25rem">
          <article class="card reveal" style="max-width: var(--maxw-readable); margin-inline:auto;">
            <div class="eyebrow">Flagship</div>
            <h2>Enterprise Stock Market ELT</h2>
            <p>
              A production-grade data pipeline built on AWS, MWAA, Snowflake, and dbt Cloud,
              designed to securely ingest, transform, and deliver market data at scale using
              KMS encryption and enterprise best practices. The cloud-native architecture
              supports both stocks and options data and employs dbt's incremental loading
              strategy for efficient, maintainable transformations.
            </p>
          </article>

          <!-- Architecture diagram -->
          <article id="architecture" class="card reveal proof-diagram" style="max-width: var(--maxw-readable); margin-inline:auto;">
            <figure class="diagram-figure" style="margin:0;">
              <img
                src="/assets/diagrams/architecture-flow.v3.svg"
                alt="Architecture flow diagram showing MWAA orchestrating S3 to Snowflake via COPY, with dbt building marts"
                class="diagram"
                width="1160" height="300"
                loading="lazy" decoding="async"
                sizes="(max-width: 700px) 100vw, 1160px" />
              <figcaption class="diagram-caption">Architecture Flow</figcaption>
            </figure>
          </article>

          <!-- Security/observability diagram -->
          <article id="orchestration" class="card reveal proof-diagram" style="max-width: var(--maxw-readable); margin-inline:auto;">
            <figure class="diagram-figure" style="margin:0;">
              <img
                src="/assets/diagrams/security-observability.v3.svg"
                alt="Private VPC with S3 Gateway Endpoint; MWAA orchestrates Snowflake load; outbound-only egress"
                class="diagram"
                width="1160" height="300"
                loading="lazy" decoding="async"
                sizes="(max-width: 700px) 100vw, 1160px" />
              <figcaption class="diagram-caption">Security & Observability Highlights - dotted arrows = private/controlled network paths</figcaption>
            </figure>
          </article>

          <!-- Proof of Success (click-to-zoom gallery) -->
          <article id="proof" class="card reveal" style="max-width: var(--maxw-readable); margin-inline:auto;">
            <div class="eyebrow">Proof of Success</div>
            <h2>End-to-End in Action</h2>

            <section class="proof-gallery container" aria-label="Proof of Success">
              <div class="proof-grid">
                <!-- INGEST -->
                <figure class="proof-card">
                  <button class="proof-zoom" type="button"
                          aria-label="Open full-size image: Ingest S3 RAW"
                          data-full="/assets/proof/proof-success-ingest.v1.1920w.webp"
                          data-caption="Ingest: API → S3 (RAW, private via S3 Gateway)">
                    <span class="proof-zoom-badge">Click to zoom</span>
                    <picture>
                      <source type="image/webp"
                              srcset="/assets/proof/proof-success-ingest.v1.1280w.webp 1280w,
                                      /assets/proof/proof-success-ingest.v1.1920w.webp 1920w"
                              sizes="(max-width: 700px) 100vw, 1280px" />
                      <img loading="lazy" decoding="async"
                           alt="Ingest: API data lands privately in S3 (RAW zone)"
                           src="/assets/proof/proof-success-ingest.v1.1920w.jpg"
                           width="1920" height="1080" style="aspect-ratio:16/9;" />
                    </picture>
                  </button>
                  <figcaption>Ingest — API → S3 (RAW)</figcaption>
                </figure>

                <!-- LOAD -->
                <figure class="proof-card">
                  <button class="proof-zoom" type="button"
                          aria-label="Open full-size image: Snowflake load"
                          data-full="/assets/proof/proof-success-load.v1.1920w.webp"
                          data-caption="Load: Snowflake COPY from S3 stage (typed staging → marts)">
                    <span class="proof-zoom-badge">Click to zoom</span>
                    <picture>
                      <source type="image/webp"
                              srcset="/assets/proof/proof-success-load.v1.1280w.webp 1280w,
                                      /assets/proof/proof-success-load.v1.1920w.webp 1920w"
                              sizes="(max-width: 700px) 100vw, 1280px" />
                      <img loading="lazy" decoding="async"
                           alt="Load: Snowflake securely reads objects from S3 via a stage"
                           src="/assets/proof/proof-success-load.v1.1920w.jpg"
                           width="1920" height="1080" style="aspect-ratio:16/9;" />
                    </picture>
                  </button>
                  <figcaption>Load — Snowflake COPY from S3</figcaption>
                </figure>

                <!-- TRANSFORM -->
                <figure class="proof-card">
                  <button class="proof-zoom" type="button"
                          aria-label="Open full-size image: dbt transform"
                          data-full="/assets/proof/proof-success-transform.v1.1920w.webp"
                          data-caption="Transform: dbt builds typed & curated models with precise decimals">
                    <span class="proof-zoom-badge">Click to zoom</span>
                    <picture>
                      <source type="image/webp"
                              srcset="/assets/proof/proof-success-transform.v1.1280w.webp 1280w,
                                      /assets/proof/proof-success-transform.v1.1920w.webp 1920w"
                              sizes="(max-width: 700px) 100vw, 1280px" />
                      <img loading="lazy" decoding="async"
                           alt="Transform: dbt builds typed and curated models"
                           src="/assets/proof/proof-success-transform.v1.1920w.jpg"
                           width="1920" height="1080" style="aspect-ratio:16/9;" />
                    </picture>
                  </button>
                  <figcaption>Transform — dbt models & marts</figcaption>
                </figure>
              </div>
            </section>
          </article>
        </div>
      </div>
    </section>
  </main>

  <!-- Lightbox root (one per page) -->
  <div id="lightbox" class="lb" hidden aria-hidden="true" role="dialog" aria-modal="true" aria-label="Image viewer">
    <div class="lb__backdrop" data-close></div>
    <div class="lb__stage" role="document">
      <button class="lb__close" type="button" title="Close (Esc)" aria-label="Close" data-close>&times;</button>
      <img class="lb__img" alt="" />
      <p class="lb__caption" id="lb-caption"></p>
      <div class="lb__nav" aria-hidden="true">
        <button class="lb__prev" type="button" title="Previous (←)" aria-label="Previous image">&#10094;</button>
        <button class="lb__next" type="button" title="Next (→)" aria-label="Next image">&#10095;</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container inner center">
      <small>© <span id="y"></span> CatInCloud Labs - DaveHasACat LLC</small>
      <p><em>Cats who cloud. Humans that stay grounded.</em></p>
      <div class="stack" style="--stack-gap:.25rem; justify-content:center; margin-top:0.5rem;">
        <a href="/about">About</a> ·
        <a href="/security">Security</a> ·
        <a href="/privacy">Privacy</a> ·
        <a href="/terms">Terms</a> ·
        <a href="mailto:dave@catincloudlabs.com" aria-label="Email CatInCloud Labs">Contact</a>
      </div>
    </div>

    <!-- Set footer year + theme-color -->
    <script>
      document.getElementById('y').textContent = new Date().getFullYear();
      const metaTheme = document.querySelector('meta[name="theme-color"]');
      const bg = getComputedStyle(document.documentElement).getPropertyValue('--bg-page').trim();
      if (metaTheme && bg) metaTheme.setAttribute('content', bg);
    </script>
    <script src="/assets/js/hero-auto-pause.js" defer></script>
  </footer>

  <!-- Proof-of-Success lightbox JS -->
  <script>
  (() => {
    const cards = [...document.querySelectorAll('.proof-zoom')];
    const lb = document.getElementById('lightbox');
    if (!cards.length || !lb) return;

    const imgEl = lb.querySelector('.lb__img');
    const captionEl = lb.querySelector('.lb__caption');
    const closeEls = lb.querySelectorAll('[data-close]');
    const prevBtn = lb.querySelector('.lb__prev');
    const nextBtn = lb.querySelector('.lb__next');

    let idx = 0;
    let lastFocus = null;

    function open(i) {
      idx = i;
      const btn = cards[idx];
      const full = btn.dataset.full;
      const cap = btn.dataset.caption || '';
      imgEl.src = full;
      imgEl.alt = btn.getAttribute('aria-label') || '';
      captionEl.textContent = cap;

      // Fallback to .jpg if .webp fails (older browsers)
      imgEl.onerror = () => {
        if (imgEl.src.endsWith('.webp')) {
          imgEl.src = imgEl.src.replace('.webp', '.jpg');
        }
      };

      // Preload neighbors
      const prev = cards[(idx - 1 + cards.length) % cards.length]?.dataset.full;
      const next = cards[(idx + 1) % cards.length]?.dataset.full;
      [prev, next].filter(Boolean).forEach(src => { const im = new Image(); im.src = src; });

      lastFocus = document.activeElement;
      lb.hidden = false;
      lb.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
      lb.querySelector('.lb__close').focus();
    }

    function close() {
      lb.setAttribute('aria-hidden', 'true');
      lb.hidden = true;
      document.body.style.overflow = '';
      imgEl.removeAttribute('src');
      if (lastFocus && document.contains(lastFocus)) lastFocus.focus();
    }

    function show(delta) {
      idx = (idx + delta + cards.length) % cards.length;
      open(idx);
    }

    // Bind thumbnails
    cards.forEach((btn, i) => {
      btn.addEventListener('click', () => open(i));
      btn.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); open(i); }
      });
    });

    // Close actions
    closeEls.forEach(el => el.addEventListener('click', close));
    lb.addEventListener('click', (e) => {
      if (e.target === lb) close();
    });

    // Nav
    if (prevBtn && nextBtn) {
      prevBtn.addEventListener('click', () => show(-1));
      nextBtn.addEventListener('click', () => show(1));
    }

    // Keys
    document.addEventListener('keydown', (e) => {
      if (lb.hidden) return;
      if (e.key === 'Escape') close();
      else if (e.key === 'ArrowLeft') show(-1);
      else if (e.key === 'ArrowRight') show(1);
    });

    // Prevent wheel-zoom background scroll while open
    lb.addEventListener('wheel', (e) => {
      if (!lb.hidden) e.preventDefault();
    }, { passive: false });
  })();
  </script>
</body>
</html>
